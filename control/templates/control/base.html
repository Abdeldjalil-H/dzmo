<!DOCTYPE html>
<html lang="ar" dir="rtl">
    <head>
        <title></title>


        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <!-- bootstrap css -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
        <!-- MathJax-->
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script>
          window.MathJax = {
            tex: {
              inlineMath: [['$', '$'], ['\\(', '\\)']]
            }
          };
        function convert() {
          //
          //  Get the input (it is HTML containing delimited TeX math
          //    and/or MathML tags
          //
          var input = document.getElementById("MathInput").value.trim();
          //
          //  Disable the render button until MathJax is done
          //
          var button = document.getElementById("render");
          button.disabled = true;
          //
          //  Clear the old output
          //
          output = document.getElementById('MathOutput');
          output.innerHTML = input;
          //
          //  Reset the tex labels (and automatic equation numbers, though there aren't any here).
          //  Reset the typesetting system (font caches, etc.)
          //  Typeset the page, using a promise to let us know when that is complete
          //
          MathJax.texReset();
          MathJax.typesetClear();
          MathJax.typesetPromise()
            .catch(function (err) {
              //
              //  If there was an internal error, put the message into the output instead
              //
              output.innerHTML = '';
              output.appendChild(document.createElement('pre')).appendChild(document.createTextNode(err.message));
            })
            .then(function() {
              //
              //  Error or not, re-enable the render button
              //
              button.disabled = false;
            });
        }
        // document.addEventListener('DOMContentLoaded', ()=> {
        //   var v = document.getElementsByTagName("mjx-container");
        //   var k = 0;
        //   while (k < v.length){
        //     v[k].className += " overflow-auto";
        //     k++;
        //   }
        // });
      </script>
        <style>
            *{
                /*direction: rtl;*/
                text-align: right;
                /*font-size: 20px;*/
            }
            mjx-container {
              overflow-x: auto;
            }
        .dropdown-menu {
			text-align: right !important;
			}
      /*h3, h4, h5{
        margin-top: 15px;
        margin-bottom: 15px;
      }*/
        </style>
    </head>

<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-success sticky-top">
    <div class="container">
    <!--
    <a class="navbar-brand" href="#">تحضير الفريق الجزائري لأولمبياد الرياضيات</a>
    -->
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        {%with n=user.progress.last_submissions.count%}
        {%if n%}
        <li>
        <a href="{%url 'problems:last-corrected' %}" type="button" class="btn btn-info">
          {{n}}
        </a>
        </li>
        {%endif%}
      {%endwith%}
        <li class="nav-item">
          <a class="nav-link" href="/">الرئيسية <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">المنتدى</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            الدروس
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="{% url 'lessons:list' 'a' %}">جبر</a>
            <a class="dropdown-item" href="{% url 'lessons:list' 'g' %}">هندسة</a>
            <a class="dropdown-item" href="{% url 'lessons:list' 'c' %}">توفيقات</a>
            <a class="dropdown-item" href="{% url 'lessons:list' 'nt' %}">نظرية الأعداد</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="{% url 'lessons:list' 'b' %}">الأساسيات</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            المسائل
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="{% url 'problems:list' 'a' %}">جبر</a>
            <a class="dropdown-item" href="{% url 'problems:list' 'g' %}">هندسة</a>
            <a class="dropdown-item" href="{% url 'problems:list' 'c' %}">توفيقات</a>
            <a class="dropdown-item" href="{% url 'problems:list' 'nt' %}">نظرية الأعداد</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="{% url 'problems:list' 'b' %}">الأساسيات</a>
          </div>
        </li>
          {% if user.is_authenticated %}
        <li>
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            {{user.username}}
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="{% url 'accounts:account' %}">الملف الشخصي</a>
            <a class="dropdown-item" href="{% url 'accounts:profile' user.progress.pk%}">إنجازاتي</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="{% url 'accounts:logout' %}">الخروج</a>
          </div>
        </li>
          {%else%}            
        <li class="nav-item">
          <a class="nav-link" href="{% url 'accounts:login' %}">الدخول</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'accounts:signup' %}">التسجيل</a>
        </li>
        {%endif%}
        {%if user.is_staff%}
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            لوحة التحكم
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="{%url 'control:subs-list' %}">تصحيح المسائل</a>
            <a class="dropdown-item" href=""></a>
          </div>
        </li>
        {%endif%}
      </ul>
      
    </div>
  </div>
  </nav>

  {%if messages %}
  <div class="container">
    {%for msg in messages%}
    <div class="alert alert-{{msg.status}}" role="alert">
      {{msg}}
    </div>
    {%endfor%}
  </div>
  {%endif%}


{% block content %}
{%block logo%}
<div class="container d-flex justify-content-center">
<img src="https://drive.google.com/uc?export=view&id=13gjkW7nira0FIWrL8s_4rsU6cw0mnObx" class="img-fluid" alt="logo">
</div>
<div class="container d-flex justify-content-center">
<h1>تدريب الفريق الجزائري لأولمبياد الرياضيات
</h1>
</div>
{%endblock%}
<div class="container">
  {% for post in posts %}
  <div class="card my-4">
    <div class="card-head">
      {{post.publish_date}}
    </div>
    <div class="card-body">
      <h1 class="card-title">{{post.title}}</h1>
      <p class="card-text">
        {{post.content}}
      </p>
    </div>
  </div>
  {%endfor%}
</div>
{%endblock%}
      
        <!-- Bootstrap js must be before the closing body tag -->
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    </body>
</html>